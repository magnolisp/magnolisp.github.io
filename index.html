<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><title>Magnolisp</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewselflink" data-pltdoc="x">Magnolisp</a></td></tr></table></div><div class="tocviewsublistonly" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="index.html#%28part._.Magnolisp_the_.Language%29" class="tocviewlink" data-pltdoc="x">Magnolisp the Language</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="index.html#%28part._.Evaluation%29" class="tocviewlink" data-pltdoc="x">Evaluation</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="index.html#%28part._.Compiler_.A.P.I%29" class="tocviewlink" data-pltdoc="x">Compiler API</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="index.html#%28part._mglc%29" class="tocviewlink" data-pltdoc="x"><span class="stt">mglc</span></a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="index.html#%28part._.Example_.Code%29" class="tocviewlink" data-pltdoc="x">Example Code</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="index.html#%28part._.Software_.Download%29" class="tocviewlink" data-pltdoc="x">Software Download</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="index.html#%28part._.License%29" class="tocviewlink" data-pltdoc="x">License</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._.Magnolisp%29" class="tocsubseclink" data-pltdoc="x">Magnolisp</a></td></tr><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#%28part._.Magnolisp_the_.Language%29" class="tocsubseclink" data-pltdoc="x">Magnolisp the Language</a></td></tr><tr><td><span class="tocsublinknumber">1.1<tt>&nbsp;</tt></span><a href="#%28part._.Modules_and_.Macros%29" class="tocsubseclink" data-pltdoc="x">Modules and Macros</a></td></tr><tr><td><span class="tocsublinknumber">1.2<tt>&nbsp;</tt></span><a href="#%28part._.Defining_.Forms%29" class="tocsubseclink" data-pltdoc="x">Defining Forms</a></td></tr><tr><td><a href="#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._function%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">function</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._typedef%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">typedef</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._var%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">var</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._let-var%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">let-<wbr></wbr>var</span></span></a></td></tr><tr><td><span class="tocsublinknumber">1.3<tt>&nbsp;</tt></span><a href="#%28part._.Annotations%29" class="tocsubseclink" data-pltdoc="x">Annotations</a></td></tr><tr><td><a href="#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._foreign%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">foreign</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._export%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">export</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._type%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">type</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._cast%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">cast</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._let-annotate%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">let-<wbr></wbr>annotate</span></span></a></td></tr><tr><td><span class="tocsublinknumber">1.4<tt>&nbsp;</tt></span><a href="#%28part._type-expressions%29" class="tocsubseclink" data-pltdoc="x">Type Expressions</a></td></tr><tr><td><a href="#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._fn%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">fn</span></span></a></td></tr><tr><td><span class="tocsublinknumber">1.5<tt>&nbsp;</tt></span><a href="#%28part._.Statements_and_.Expressions%29" class="tocsubseclink" data-pltdoc="x">Statements and Expressions</a></td></tr><tr><td><a href="#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._do%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">do</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._return%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">return</span></span></a></td></tr><tr><td><span class="tocsublinknumber">1.6<tt>&nbsp;</tt></span><a href="#%28part._.Standard_.Library%29" class="tocsubseclink" data-pltdoc="x">Standard Library</a></td></tr><tr><td><a href="#%28def._%28%28lib._magnolisp%2Fprelude..rkt%29._.Bool%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">Bool</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._magnolisp%2Fprelude..rkt%29._.Void%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">Void</span></span></a></td></tr><tr><td><span class="tocsublinknumber">1.7<tt>&nbsp;</tt></span><a href="#%28part._.Racket_.Forms%29" class="tocsubseclink" data-pltdoc="x">Racket Forms</a></td></tr><tr><td><a href="#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._begin-racket%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">begin-<wbr></wbr>racket</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._begin-for-racket%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">begin-<wbr></wbr>for-<wbr></wbr>racket</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._define-for-racket%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">define-<wbr></wbr>for-<wbr></wbr>racket</span></span></a></td></tr><tr><td><span class="tocsublinknumber">1.8<tt>&nbsp;</tt></span><a href="#%28part._.Fully_.Expanded_.Programs%29" class="tocsubseclink" data-pltdoc="x">Fully Expanded Programs</a></td></tr><tr><td><a href="#%28def._%28%28lib._magnolisp%2Fsurface..rkt%29._~23~25magnolisp%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">#%magnolisp</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2<tt>&nbsp;</tt></span><a href="#%28part._.Evaluation%29" class="tocsubseclink" data-pltdoc="x">Evaluation</a></td></tr><tr><td><span class="tocsublinknumber">3<tt>&nbsp;</tt></span><a href="#%28part._.Compiler_.A.P.I%29" class="tocsubseclink" data-pltdoc="x">Compiler API</a></td></tr><tr><td><a href="#%28def._%28%28lib._magnolisp%2Fcompiler-api..rkt%29._compile-modules%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">compile-<wbr></wbr>modules</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._magnolisp%2Fcompiler-api..rkt%29._compile-files%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">compile-<wbr></wbr>files</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._magnolisp%2Fcompiler-api..rkt%29._compilation-state~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">compilation-<wbr></wbr>state?</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._magnolisp%2Fcompiler-api..rkt%29._generate-files%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">generate-<wbr></wbr>files</span></a></td></tr><tr><td><span class="tocsublinknumber">4<tt>&nbsp;</tt></span><a href="#%28part._mglc%29" class="tocsubseclink" data-pltdoc="x"><span class="stt">mglc</span></a></td></tr><tr><td><span class="tocsublinknumber">5<tt>&nbsp;</tt></span><a href="#%28part._.Example_.Code%29" class="tocsubseclink" data-pltdoc="x">Example Code</a></td></tr><tr><td><span class="tocsublinknumber">6<tt>&nbsp;</tt></span><a href="#%28part._.Software_.Download%29" class="tocsubseclink" data-pltdoc="x">Software Download</a></td></tr><tr><td><span class="tocsublinknumber">7<tt>&nbsp;</tt></span><a href="#%28part._.License%29" class="tocsubseclink" data-pltdoc="x">License</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="versionNoNav">6.1.1</span></div><h2><a name="(part._.Magnolisp)"></a>Magnolisp</h2><div class="SAuthorListBox"><span class="SAuthorList"><p class="author">Tero Hasu</p></span></div><p>This is <a name="(tech._magnolisp)"></a><span style="font-style: italic">Magnolisp</span>, a small, experimental language and implementation. It is experimental in its implementation technique, which is to replace the phase level 0 (runtime) language of <a href="http://racket-lang.org/">Racket</a> with something non-Racket (here: Magnolisp), and translate it into another language (here: C++) for execution.</p><p>Magnolisp is inspired by Racket and the likewise experimental programming language <a href="http://magnolia-lang.org/">Magnolia</a>. Its algebraic language resembles Racket&rsquo;s, and Racket also provides the module and macro systems. The language is restricted in ways similar to Magnolia, with the restrictions designed to support static reasoning about code, and to allow for fairly direct mapping to most mainstream languages.</p><p>Magnolisp is intended to explore and demonstrate techniques for source-to-source compilation on top of Racket, not to support writing of useful applications.</p><h3>1<tt>&nbsp;</tt><a name="(part._.Magnolisp_the_.Language)"></a><a name="(mod-path._magnolisp)"></a>Magnolisp the Language</h3><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><a href="http://docs.racket-lang.org/guide/Module_Syntax.html#%28part._hash-lang%29" class="RktModLink" data-pltdoc="x"><span class="RktMod">#lang</span></a><span class="hspace">&nbsp;</span><a href="index.html#%28mod-path._magnolisp%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">magnolisp</span></a></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <span class="stt">magnolisp</span></span></td></tr></table></p><p>The Magnolisp language relies on Racket for its module and macro systems. All of Racket may be used for macro programming. The <a href="http://docs.racket-lang.org/reference/index.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">racket/base</span></a> language is provided by default for phase level 1 (compile time).</p><p>The <a href="http://docs.racket-lang.org/reference/index.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">racket/base</span></a> definitions (with the exception of the <span class="RktSym"><a href="http://docs.racket-lang.org/reference/for.html#%28form._%28%28lib._racket%2Fprivate%2Fmore-scheme..rkt%29._do%29%29" class="RktStxLink" data-pltdoc="x">do</a></span> form) are also available at phase level 0 by default. They may also be used in runtime code, and evaluated as <a href="index.html#%28mod-path._magnolisp%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">magnolisp</span></a>. However, only a small subset of Racket can be handled by the Magnolisp compiler, and either the Magnolisp Racket language or the Magnolisp compiler will report errors as appropriate for uncompilable language.</p><p>When a <a href="index.html#%28mod-path._magnolisp%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">magnolisp</span></a> module is evaluated as Racket, any module top-level runtime expressions will also get evaluated; this feature is intended to facilitate testing during development. The Magnolisp compiler, on the other hand, discards top-level expressions, and also any top-level definitions that are not actually part of the program being compiled. One motivation for making most of the <a href="http://docs.racket-lang.org/reference/index.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">racket/base</span></a> bindings available for runtime code is their potential usefulness in code invoked by top-level expressions.</p><h4>1.1<tt>&nbsp;</tt><a name="(part._.Modules_and_.Macros)"></a>Modules and Macros</h4><p>The Racket <span class="RktSym"><a href="http://docs.racket-lang.org/reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._provide%29%29" class="RktStxLink" data-pltdoc="x">provide</a></span> and <span class="RktSym"><a href="http://docs.racket-lang.org/reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._require%29%29" class="RktStxLink" data-pltdoc="x">require</a></span> forms may be used as normal, also at phase level 0. However, as far as C++ compilation is concerned, these are only used to connect together Magnolisp definitions internally to the compiled program/library. C++ imports and exports are specified separately using the <span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._foreign%29%29" class="RktStxLink" data-pltdoc="x">foreign</a></span> and <span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._export%29%29" class="RktStxLink" data-pltdoc="x">export</a></span> annotations.</p><p>For defining macros and macro-expansion time computation, the relevant Racket facilities (e.g., <span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define-syntax%29%29" class="RktStxLink" data-pltdoc="x">define-syntax</a></span>, <span class="RktSym"><a href="http://docs.racket-lang.org/reference/stx-patterns.html#%28form._%28%28lib._racket%2Fprivate%2Fmisc..rkt%29._define-syntax-rule%29%29" class="RktStxLink" data-pltdoc="x">define-syntax-rule</a></span>, <span class="RktSym"><a href="http://docs.racket-lang.org/reference/begin.html#%28form._%28%28quote._~23~25kernel%29._begin-for-syntax%29%29" class="RktStxLink" data-pltdoc="x">begin-for-syntax</a></span>, etc<span class="Sendabbrev">.</span>) may be used as normal.</p><h4>1.2<tt>&nbsp;</tt><a name="(part._.Defining_.Forms)"></a><a name="(mod-path._magnolisp/surface)"></a>Defining Forms</h4><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._require%29%29" class="RktStxLink" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="index.html#%28mod-path._magnolisp%2Fsurface%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">magnolisp/surface</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <span class="stt">magnolisp</span></span></td></tr></table></p><p>In Magnolisp, it is possible to declare <span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._function%29%29" class="RktStxLink" data-pltdoc="x">function</a></span>s, types (with <span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._typedef%29%29" class="RktStxLink" data-pltdoc="x">typedef</a></span>), and <span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._var%29%29" class="RktStxLink" data-pltdoc="x">var</a></span>iables; of these, variable definitions are not allowed at the top level. The Magnolisp binding forms are in the <a href="index.html#%28mod-path._magnolisp%2Fsurface%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">magnolisp/surface</span></a> library. The <a href="index.html#%28mod-path._magnolisp%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">magnolisp</span></a> language provides <a href="index.html#%28mod-path._magnolisp%2Fsurface%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">magnolisp/surface</span></a> at phase level 0.</p><p>As Magnolisp has almost no standard library, it is ultimately necessary to define primitive types and functions (flagged as <span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._foreign%29%29" class="RktStxLink" data-pltdoc="x">foreign</a></span>) in order to be able to compile programs that do anything useful.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._magnolisp/surface..rkt)._function))"></a><span title="Provided from: magnolisp/surface | Package: magnolisp"><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._function%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">function</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">arg</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">maybe-annos</span><span class="hspace">&nbsp;</span><span class="RktVar">maybe-body</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">maybe-body</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">expr</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Declares a function. The (optional) body of a function is a single expression, which must produce a single value.</div></p><p>Unlike in Racket, no tail-call elimination may be assumed even when a recursive function application appears in <span style="font-style: italic">tail position</span>.</p><p>Providing a body is optional in the case where the function is declared as <span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._foreign%29%29" class="RktStxLink" data-pltdoc="x">foreign</a></span>, in which case the compiler will ignore any body <span class="RktVar">expr</span>. When a function without a body is invoked as Racket, the result is <a href="http://docs.racket-lang.org/guide/void_undefined.html" class="RktModLink" data-pltdoc="x"><span class="nobreak"><span class="RktRes">#&lt;void&gt;</span></span></a>. When a <span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._foreign%29%29" class="RktStxLink" data-pltdoc="x">foreign</a></span> function with a body is invoked as Racket, the body may be implemented in full Racket, typically to &ldquo;simulate&rdquo; the behavior of the C++ implementation. To implement a function body in Racket syntax instead of Magnolisp syntax, enclose the body expression within a <span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._begin-racket%29%29" class="RktStxLink" data-pltdoc="x">begin-racket</a></span> form.</p><p>A function with the <span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._export%29%29" class="RktStxLink" data-pltdoc="x">export</a></span> flag in its annotations indicates that the function is part of the public API of a program that includes the containing module. When a function is used merely as a dependency (i.e., its containing module was not specified as being a part of the program), any <span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._export%29%29" class="RktStxLink" data-pltdoc="x">export</a></span> flag is ignored.</p><p>When a function includes a <span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._type%29%29" class="RktStxLink" data-pltdoc="x">type</a></span> annotation, the type expression must be of the form <span class="RktVar">fn-type-expr</span> (see <a href="index.html#%28part._type-expressions%29" data-pltdoc="x">Type Expressions</a>).</p><p><div class="SIntrapara">For example:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._function%29%29" class="RktStxLink" data-pltdoc="x">function</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">identity</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._function%29%29" class="RktStxLink" data-pltdoc="x">function</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">five</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">#:annos</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._export%29%29" class="RktStxLink" data-pltdoc="x">export</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._type%29%29" class="RktStxLink" data-pltdoc="x">type</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._fn%29%29" class="RktStxLink" data-pltdoc="x">fn</a></span><span class="hspace">&nbsp;</span><span class="RktSym">int</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._function%29%29" class="RktStxLink" data-pltdoc="x">function</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">inc</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">#:annos</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._foreign%29%29" class="RktStxLink" data-pltdoc="x">foreign</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._type%29%29" class="RktStxLink" data-pltdoc="x">type</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._fn%29%29" class="RktStxLink" data-pltdoc="x">fn</a></span><span class="hspace">&nbsp;</span><span class="RktSym">int</span><span class="hspace">&nbsp;</span><span class="RktSym">int</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._add1%29%29" class="RktValLink" data-pltdoc="x">add1</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._function%29%29" class="RktStxLink" data-pltdoc="x">function</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">seven</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">#:annos</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._foreign%29%29" class="RktStxLink" data-pltdoc="x">foreign</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._type%29%29" class="RktStxLink" data-pltdoc="x">type</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._fn%29%29" class="RktStxLink" data-pltdoc="x">fn</a></span><span class="hspace">&nbsp;</span><span class="RktSym">int</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._begin-racket%29%29" class="RktStxLink" data-pltdoc="x">begin-racket</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="hspace">&nbsp;</span><span class="RktVal">7</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p>Here, <span class="RktSym">identity</span> must have a single, concerete type, possible to determine from the context of use. It is not a generic function, and hence it may not be used in multiple different type contexts within a single program.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._magnolisp/surface..rkt)._typedef))"></a><span title="Provided from: magnolisp/surface | Package: magnolisp"><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._typedef%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">typedef</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">maybe-annos</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Declares a type. Presently only foreign types may be declared, and <span class="RktVar">id</span> gives the corresponding Magnolisp name. The <span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._foreign%29%29" class="RktStxLink" data-pltdoc="x">foreign</a></span> annotation should always be provided.</div></p><p><div class="SIntrapara">For example:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._typedef%29%29" class="RktStxLink" data-pltdoc="x">typedef</a></span><span class="hspace">&nbsp;</span><span class="RktSym">int</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">#:annos</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._foreign%29%29" class="RktStxLink" data-pltdoc="x">foreign</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._typedef%29%29" class="RktStxLink" data-pltdoc="x">typedef</a></span><span class="hspace">&nbsp;</span><span class="RktSym">long</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">#:annos</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._foreign%29%29" class="RktStxLink" data-pltdoc="x">foreign</a></span><span class="hspace">&nbsp;</span><span class="RktSym">my_cxx_long</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._magnolisp/surface..rkt)._var))"></a><span title="Provided from: magnolisp/surface | Package: magnolisp"><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._var%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">var</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">maybe-annos</span><span class="hspace">&nbsp;</span><span class="RktVar">expr</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Declares a local variable with the name <span class="RktVar">id</span>, and the (initial) value given by <span class="RktVar">expr</span>. A <span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._type%29%29" class="RktStxLink" data-pltdoc="x">type</a></span> annotation may be included to specify the Magnolisp type of the variable.</div></p><p><div class="SIntrapara">For example:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/let.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._let%29%29" class="RktStxLink" data-pltdoc="x">let</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._var%29%29" class="RktStxLink" data-pltdoc="x">var</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">#:annos</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._type%29%29" class="RktStxLink" data-pltdoc="x">type</a></span><span class="hspace">&nbsp;</span><span class="RktSym">int</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._add1%29%29" class="RktValLink" data-pltdoc="x">add1</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">6</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._magnolisp/surface..rkt)._let-var))"></a><span title="Provided from: magnolisp/surface | Package: magnolisp"><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._let-var%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">let-var</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">maybe-annos</span><span class="hspace">&nbsp;</span><span class="RktVar">val-expr</span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">A shorthand for declaring a single, annotated, locally scoped variable. The variable <span class="RktVar">id</span> with the initial value given by <span class="RktVar">val-expr</span> is only in the scope of the <span class="RktVar">body</span> expression. This form is equivalent to <span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/let.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._let%29%29" class="RktStxLink" data-pltdoc="x">let</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktVar">id</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._let-annotate%29%29" class="RktStxLink" data-pltdoc="x">let-annotate</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktVar">anno-expr</span><span class="stt"> </span><span class="RktMeta"><a href="http://docs.racket-lang.org/reference/stx-patterns.html#%28form._%28%28lib._racket%2Fprivate%2Fstxcase-scheme..rkt%29._......%29%29" class="RktStxLink" data-pltdoc="x">...</a></span><span class="RktPn">)</span><span class="stt"> </span><span class="RktVar">val-expr</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktVar">body</span><span class="RktPn">)</span>.</div></p><p><div class="SIntrapara">For example:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._let-var%29%29" class="RktStxLink" data-pltdoc="x">let-var</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">#:annos</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._type%29%29" class="RktStxLink" data-pltdoc="x">type</a></span><span class="hspace">&nbsp;</span><span class="RktSym">int</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._add1%29%29" class="RktValLink" data-pltdoc="x">add1</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">6</span></p></td></tr></table></blockquote></div></p><p>Where one uses other variants of <span class="RktSym">let</span>, it is still possible to specify annotations for the bindings with <span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._let-annotate%29%29" class="RktStxLink" data-pltdoc="x">let-annotate</a></span>.</p><h4>1.3<tt>&nbsp;</tt><a name="(part._.Annotations)"></a>Annotations</h4><p><table cellspacing="0" cellpadding="0"><tr><td align="right" valign="baseline"><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">maybe-annos</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktPn">#:annos</span><span class="hspace">&nbsp;</span><span class="RktVar">anno-expr</span><span class="hspace">&nbsp;</span><span class="RktSym">...</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">anno-expr</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">export-anno-expr</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">foreign-anno-expr</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">type-anno-expr</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktSym">...</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">export-anno-expr</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._export%29%29" class="RktStxLink" data-pltdoc="x">export</a></span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._export%29%29" class="RktStxLink" data-pltdoc="x">export</a></span><span class="hspace">&nbsp;</span><span class="RktVar">C++-id</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">foreign-anno-expr</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._foreign%29%29" class="RktStxLink" data-pltdoc="x">foreign</a></span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._foreign%29%29" class="RktStxLink" data-pltdoc="x">foreign</a></span><span class="hspace">&nbsp;</span><span class="RktVar">C++-id</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">type-anno-expr</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._type%29%29" class="RktStxLink" data-pltdoc="x">type</a></span><span class="hspace">&nbsp;</span><span class="RktVar">type-expr</span><span class="RktPn">)</span></td></tr></table></p><p>where:</p><blockquote class="leftindent"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><span class="RktVar">C++-id</span></td></tr></table></blockquote><p>A valid C++ identifier. When not provided, a default C++ name is automatically derived from the Magnolisp name.</p></blockquote><p>The set of annotations that may be used in Magnolisp is open ended, to allow for additional tools support. Only the most central Magnolisp-compiler-recognized annotations are included in the above grammar.</p><p>It is not always necessary to explicitly specify a <span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._type%29%29" class="RktStxLink" data-pltdoc="x">type</a></span> for a typed Magnolisp definition, as the Magnolisp compiler does whole-program type inference (in Hindley-Milner style). When evaluating as Racket, <span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._type%29%29" class="RktStxLink" data-pltdoc="x">type</a></span> annotations are not used at all.</p><p>For convenience, the <a href="index.html#%28mod-path._magnolisp%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">magnolisp</span></a> language installs a reader extension that supports annotation related shorthands: <span class="RktInBG"><span class="hspace"></span><span class="RktIn">#an</span><span class="hspace"></span></span><span class="RktPn">(</span><span class="RktVar">anno-expr</span><span class="stt"> </span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stx-patterns.html#%28form._%28%28lib._racket%2Fprivate%2Fstxcase-scheme..rkt%29._......%29%29" class="RktStxLink" data-pltdoc="x">...</a></span><span class="RktPn">)</span> is short for <span class="RktPn">(</span><span class="RktPn">#:annos</span><span class="stt"> </span><span class="RktVar">anno-expr</span><span class="stt"> </span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stx-patterns.html#%28form._%28%28lib._racket%2Fprivate%2Fstxcase-scheme..rkt%29._......%29%29" class="RktStxLink" data-pltdoc="x">...</a></span><span class="RktPn">)</span>; <span class="RktInBG"><span class="hspace"></span><span class="RktIn">#ap</span><span class="hspace"></span></span><span class="RktPn">(</span><span class="RktVar">anno-expr</span><span class="stt"> </span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stx-patterns.html#%28form._%28%28lib._racket%2Fprivate%2Fstxcase-scheme..rkt%29._......%29%29" class="RktStxLink" data-pltdoc="x">...</a></span><span class="RktPn">)</span><span class="stt"> </span><span class="RktVar">expr</span> is short for <span class="RktPn">(</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._let-annotate%29%29" class="RktStxLink" data-pltdoc="x">let-annotate</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktVar">anno-expr</span><span class="stt"> </span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stx-patterns.html#%28form._%28%28lib._racket%2Fprivate%2Fstxcase-scheme..rkt%29._......%29%29" class="RktStxLink" data-pltdoc="x">...</a></span><span class="RktPn">)</span><span class="stt"> </span><span class="RktVar">expr</span><span class="RktPn">)</span>; and <span class="RktInBG"><span class="hspace"></span><span class="RktIn">^</span><span class="hspace"></span></span><span class="RktVar">type-expr</span> is short for <span class="RktPn">(</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._type%29%29" class="RktStxLink" data-pltdoc="x">type</a></span><span class="stt"> </span><span class="RktVar">type-expr</span><span class="RktPn">)</span>. For example, <span class="RktInBG"><span class="hspace"></span><span class="RktIn">#an</span><span class="hspace"></span></span>(<span class="RktInBG"><span class="hspace"></span><span class="RktIn">^</span><span class="hspace"></span></span><span class="RktSym">int</span>) reads as <span class="RktPn">(</span><span class="RktPn">#:annos</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._type%29%29" class="RktStxLink" data-pltdoc="x">type</a></span><span class="stt"> </span><span class="RktSym">int</span><span class="RktPn">)</span><span class="RktPn">)</span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._magnolisp/surface..rkt)._foreign))"></a><span title="Provided from: magnolisp/surface | Package: magnolisp"><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._foreign%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">foreign</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">C++-id</span><span class="RktPn">)</span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._foreign%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">foreign</a></span></p></blockquote></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">An annotation that marks a type or function definition as foreign. That is, it is a primitive implemented in C++. Whether explicitly specified or derived from the Magnolisp name, any <span class="RktVar">C++-id</span> must naturally match that of an existing C++ definition.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._magnolisp/surface..rkt)._export))"></a><span title="Provided from: magnolisp/surface | Package: magnolisp"><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._export%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">export</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">C++-id</span><span class="RktPn">)</span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._export%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">export</a></span></p></blockquote></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">An annotation that marks a function definition as &ldquo;public&rdquo;. That is, the function is to be part of the Magnolisp API that is produced for the library being implemented. Its declaration will thus appear in any generated header file.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._magnolisp/surface..rkt)._type))"></a><span title="Provided from: magnolisp/surface | Package: magnolisp"><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._type%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">type</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">type-expr</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">An annotation that specifies the Magnolisp type of a function, variable, or expression.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._magnolisp/surface..rkt)._cast))"></a><span title="Provided from: magnolisp/surface | Package: magnolisp"><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._cast%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">cast</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">type-expr</span><span class="hspace">&nbsp;</span><span class="RktVar">expr</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Annotates expression <span class="RktVar">expr</span> with the type given by <span class="RktVar">type-expr</span>. A <span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._cast%29%29" class="RktStxLink" data-pltdoc="x">cast</a></span> is commonly used to specify the type of a literal, which by themselves are generally untyped in Magnolisp. While the literal <span class="RktVal">"foo"</span> is treated as a <span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span> value by Racket, the Magnolisp compiler will expect to determine the literal expression&rsquo;s Magnolisp type based on annotations. The <span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._cast%29%29" class="RktStxLink" data-pltdoc="x">cast</a></span> form allows one to &ldquo;cast&rdquo; an expression to a specific type for the compiler.</div></p><p><div class="SIntrapara">For example:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._cast%29%29" class="RktStxLink" data-pltdoc="x">cast</a></span><span class="hspace">&nbsp;</span><span class="RktSym">int</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">5</span></p></td></tr></table></blockquote></div></p><p>While generally only declarations require annotations, <span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._cast%29%29" class="RktStxLink" data-pltdoc="x">cast</a></span> demonstrates a specific case where it is useful to associate annotations with expressions.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._magnolisp/surface..rkt)._let-annotate))"></a><span title="Provided from: magnolisp/surface | Package: magnolisp"><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._let-annotate%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">let-annotate</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">anno-expr</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">expr</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Explicitly annotates the expression <span class="RktVar">expr</span> with the specified annotations. May be used to specify annotations for an identifier that is bound using the regular Racket binding forms such as <span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span>, <span class="RktSym"><a href="http://docs.racket-lang.org/reference/let.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._let%29%29" class="RktStxLink" data-pltdoc="x">let</a></span>, etc<span class="Sendabbrev">.</span></div></p><p><div class="SIntrapara">For example:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._let-annotate%29%29" class="RktStxLink" data-pltdoc="x">let-annotate</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._type%29%29" class="RktStxLink" data-pltdoc="x">type</a></span><span class="hspace">&nbsp;</span><span class="RktSym">int</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktSym">x</span></td></tr><tr><td><p><span class="RktRes">5</span></p></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/let.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._let%29%29" class="RktStxLink" data-pltdoc="x">let</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._let-annotate%29%29" class="RktStxLink" data-pltdoc="x">let-annotate</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._type%29%29" class="RktStxLink" data-pltdoc="x">type</a></span><span class="hspace">&nbsp;</span><span class="RktSym">int</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">6</span></p></td></tr></table></blockquote></div></p><h4>1.4<tt>&nbsp;</tt><a name="(part._type-expressions)"></a>Type Expressions</h4><p><table cellspacing="0" cellpadding="0"><tr><td align="right" valign="baseline"><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">type-expr</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">type-id</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">fn-type-expr</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">fn-type-expr</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._fn%29%29" class="RktStxLink" data-pltdoc="x">fn</a></span><span class="hspace">&nbsp;</span><span class="RktVar">type-expr</span><span class="hspace">&nbsp;</span><span class="RktSym">...</span><span class="hspace">&nbsp;</span><span class="RktVar">type-expr</span><span class="RktPn">)</span></td></tr></table></p><p>Type expressions are parsed according to the above grammar, where <span class="RktVar">type-id</span> must be an identifier that names a type. The only predefined types in Magnolisp are <span class="RktSym"><a href="index.html#%28def._%28%28lib._magnolisp%2Fprelude..rkt%29._.Void%29%29" class="RktValLink" data-pltdoc="x">Void</a></span> and <span class="RktSym"><a href="index.html#%28def._%28%28lib._magnolisp%2Fprelude..rkt%29._.Bool%29%29" class="RktValLink" data-pltdoc="x">Bool</a></span>, and any others must be declared using <span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._typedef%29%29" class="RktStxLink" data-pltdoc="x">typedef</a></span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._magnolisp/surface..rkt)._fn))"></a><span title="Provided from: magnolisp/surface | Package: magnolisp"><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._fn%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">fn</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">type-expr</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="hspace">&nbsp;</span><span class="RktVar">type-expr</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">A function type expression, containing type expressions the function&rsquo;s arguments and its return value, in that order. A Magnolisp function always returns a single value.</div></p><h4>1.5<tt>&nbsp;</tt><a name="(part._.Statements_and_.Expressions)"></a>Statements and Expressions</h4><p>Like Racket (and unlike C++), the Magnolisp language makes no distinction between statements and expressions. Some expressions yield no useful value, however; such expressions conceptually produce a result of type <span class="RktSym"><a href="index.html#%28def._%28%28lib._magnolisp%2Fprelude..rkt%29._.Void%29%29" class="RktValLink" data-pltdoc="x">Void</a></span> (such result values do exist at Racket run time, but not at C++ run time). Some expressions yield <span style="font-style: italic">no</span> values (or <span style="font-style: italic">multiple</span> values), but are merely used as a syntactic device, and only allowed to appear in certain contexts.</p><p>Magnolisp borrows a number of constructs from Racket (or Scheme). For example, there is a conditional form <span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#%28form._%28%28quote._~23~25kernel%29._if%29%29" class="RktStxLink" data-pltdoc="x">if</a></span><span class="stt"> </span><span class="RktVar">test-expr</span><span class="stt"> </span><span class="RktVar">then-expr</span><span class="stt"> </span><span class="RktVar">else-expr</span><span class="RktPn">)</span>, as well as the derived forms <span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/when_unless.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._when%29%29" class="RktStxLink" data-pltdoc="x">when</a></span><span class="stt"> </span><span class="RktVar">test-expr</span><span class="stt"> </span><span class="RktVar">then-expr</span><span class="stt"> </span><span class="RktSym">...+</span><span class="RktPn">)</span> and <span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/when_unless.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._unless%29%29" class="RktStxLink" data-pltdoc="x">unless</a></span><span class="stt"> </span><span class="RktVar">test-expr</span><span class="stt"> </span><span class="RktVar">then-expr</span><span class="stt"> </span><span class="RktSym">...+</span><span class="RktPn">)</span>. The <span class="RktVar">test-expr</span> conditional expression must always be of type <span class="RktSym"><a href="index.html#%28def._%28%28lib._magnolisp%2Fprelude..rkt%29._.Bool%29%29" class="RktValLink" data-pltdoc="x">Bool</a></span>, and whether it holds depends on the &ldquo;truthiness&rdquo; of its value, as interpreted in C++ or Racket (as applicable). The branches of an <span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#%28form._%28%28quote._~23~25kernel%29._if%29%29" class="RktStxLink" data-pltdoc="x">if</a></span> must generally be of the same type, except where the result of the <span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#%28form._%28%28quote._~23~25kernel%29._if%29%29" class="RktStxLink" data-pltdoc="x">if</a></span> form is discarded. The <span class="RktSym"><a href="http://docs.racket-lang.org/reference/when_unless.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._when%29%29" class="RktStxLink" data-pltdoc="x">when</a></span> and <span class="RktSym"><a href="http://docs.racket-lang.org/reference/when_unless.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._unless%29%29" class="RktStxLink" data-pltdoc="x">unless</a></span> can generally only appear in such result-discarding contexts, as they have an implicit &ldquo;else&rdquo; branch of type <span class="RktSym"><a href="index.html#%28def._%28%28lib._magnolisp%2Fprelude..rkt%29._.Void%29%29" class="RktValLink" data-pltdoc="x">Void</a></span>.</p><p>A <span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/begin.html#%28form._%28%28quote._~23~25kernel%29._begin%29%29" class="RktStxLink" data-pltdoc="x">begin</a></span><span class="stt"> </span><span class="RktVar">body</span><span class="stt"> </span><span class="RktVar">...</span><span class="RktPn">)</span> form, in Magnolisp, signifies a sequence of expressions, itself constituting an expression. Similarly to Racket, to allow declarations to appear within an expression sequence, <span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/let.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._let%29%29" class="RktStxLink" data-pltdoc="x">let</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktVar">body</span><span class="stt"> </span><span class="RktVar">...</span><span class="RktPn">)</span> should be used instead.</p><p>The <span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/let.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._let%29%29" class="RktStxLink" data-pltdoc="x">let</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktVar">id</span><span class="stt"> </span><span class="RktVar">expr</span><span class="RktPn">]</span><span class="stt"> </span><span class="RktVar">...</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktVar">body</span><span class="stt"> </span><span class="RktSym">...+</span><span class="RktPn">)</span>, <span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/let.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._let%2A%29%29" class="RktStxLink" data-pltdoc="x">let*</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktVar">id</span><span class="stt"> </span><span class="RktVar">expr</span><span class="RktPn">]</span><span class="stt"> </span><span class="RktVar">...</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktVar">body</span><span class="stt"> </span><span class="RktSym">...+</span><span class="RktPn">)</span>, and <span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/let.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._letrec%29%29" class="RktStxLink" data-pltdoc="x">letrec</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktVar">id</span><span class="stt"> </span><span class="RktVar">expr</span><span class="RktPn">]</span><span class="stt"> </span><span class="RktVar">...</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktVar">body</span><span class="stt"> </span><span class="RktSym">...+</span><span class="RktPn">)</span> forms are also available in Magnolisp, but the named variant of <span class="RktSym"><a href="http://docs.racket-lang.org/reference/let.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._let%29%29" class="RktStxLink" data-pltdoc="x">let</a></span> is not supported.</p><p>The <span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/set_.html#%28form._%28%28quote._~23~25kernel%29._set%21%29%29" class="RktStxLink" data-pltdoc="x">set!</a></span><span class="stt"> </span><span class="RktVar">id</span><span class="stt"> </span><span class="RktVar">expr</span><span class="RktPn">)</span> form is likewise available in Magnolisp, supporting assignment to variables.
The left-hand side expression <span class="RktVar">id</span> must be a reference to a bound variable.
(The <span class="RktVar">id</span> may naturally instead be a transformer binding to an assignment transformer, in which case the form is macro transformed as normal.)</p><p>In Magnolisp, <span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void%29%29" class="RktValLink" data-pltdoc="x">void</a></span><span class="stt"> </span><span class="RktVar">expr</span><span class="stt"> </span><span class="RktVar">...</span><span class="RktPn">)</span> is an expression with no useful result (the result is of the unit type <span class="RktSym"><a href="index.html#%28def._%28%28lib._magnolisp%2Fprelude..rkt%29._.Void%29%29" class="RktValLink" data-pltdoc="x">Void</a></span>). Any arguments to <span class="RktSym"><a href="http://docs.racket-lang.org/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void%29%29" class="RktValLink" data-pltdoc="x">void</a></span> are evaluated as usual, but they are not used. The <span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/values.html#%28def._%28%28quote._~23~25kernel%29._values%29%29" class="RktValLink" data-pltdoc="x">values</a></span><span class="RktPn">)</span> form signifies &ldquo;nothing,&rdquo; and has no result; hence it is an error for <span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/values.html#%28def._%28%28quote._~23~25kernel%29._values%29%29" class="RktValLink" data-pltdoc="x">values</a></span><span class="RktPn">)</span> to appear in a position where the context expects a result. In result expecting contexts, the former may only appear in a 1-value context, and the latter in a 0-value context (there are few in Magnolisp).</p><p>The <span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._var%29%29" class="RktStxLink" data-pltdoc="x">var</a></span>, <span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._function%29%29" class="RktStxLink" data-pltdoc="x">function</a></span>, and <span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._typedef%29%29" class="RktStxLink" data-pltdoc="x">typedef</a></span> declaration forms may appear in a Racket <span style="font-style: italic">internal-definition context</span> (and not Racket <span style="font-style: italic">expression context</span>). The same is true of <span class="RktSym">define</span> forms that conform to the restricted syntax supported by the Magnolisp compiler.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._magnolisp/surface..rkt)._do))"></a><span title="Provided from: magnolisp/surface | Package: magnolisp"><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._do%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">do</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">expr</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">An <a name="(tech._expression._block)"></a><span style="font-style: italic">expression block</span> containing a sequence of expressions. As the term implies, an expression block is itself an expression. The block must produce a single value by <span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._return%29%29" class="RktStxLink" data-pltdoc="x">return</a></span>ing it, or by letting it &ldquo;fall out&rdquo; of the block. The returned or fallen-out value becomes the value of the containing <span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._do%29%29" class="RktStxLink" data-pltdoc="x">do</a></span> expression. All value giving expressions in a block must be of the same type.</div></p><p><div class="SIntrapara">For example:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._do%29%29" class="RktStxLink" data-pltdoc="x">do</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/when_unless.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._when%29%29" class="RktStxLink" data-pltdoc="x">when</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._return%29%29" class="RktStxLink" data-pltdoc="x">return</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">five</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">seven</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">5</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._magnolisp/surface..rkt)._return))"></a><span title="Provided from: magnolisp/surface | Package: magnolisp"><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._return%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">return</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">expr</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">An expression that causes any enclosing <span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._do%29%29" class="RktStxLink" data-pltdoc="x">do</a></span> block (which must exist) to yield the value of the expression <span class="RktVar">expr</span>.</div></p><h4>1.6<tt>&nbsp;</tt><a name="(part._.Standard_.Library)"></a><a name="(mod-path._magnolisp/prelude)"></a>Standard Library</h4><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._require%29%29" class="RktStxLink" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="index.html#%28mod-path._magnolisp%2Fprelude%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">magnolisp/prelude</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <span class="stt">magnolisp</span></span></td></tr></table></p><p>A boolean expression is simply an expression of type <span class="RktSym"><a href="index.html#%28def._%28%28lib._magnolisp%2Fprelude..rkt%29._.Bool%29%29" class="RktValLink" data-pltdoc="x">Bool</a></span>, which is one of the two predefined types in Magnolisp. The other one is <span class="RktSym"><a href="index.html#%28def._%28%28lib._magnolisp%2Fprelude..rkt%29._.Void%29%29" class="RktValLink" data-pltdoc="x">Void</a></span>, which is Magnolisp&rsquo;s unit type (whose values carry no information).</p><p>The <span class="RktSym"><a href="index.html#%28def._%28%28lib._magnolisp%2Fprelude..rkt%29._.Bool%29%29" class="RktValLink" data-pltdoc="x">Bool</a></span> and <span class="RktSym"><a href="index.html#%28def._%28%28lib._magnolisp%2Fprelude..rkt%29._.Void%29%29" class="RktValLink" data-pltdoc="x">Void</a></span> types are defined by the <a href="index.html#%28mod-path._magnolisp%2Fprelude%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">magnolisp/prelude</span></a> module, which serves as the runtime library of Magnolisp. The <a href="index.html#%28mod-path._magnolisp%2Fprelude%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">magnolisp/prelude</span></a> names are bound for phase level 0 in the <a href="index.html#%28mod-path._magnolisp%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">magnolisp</span></a> language.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>type</p></div></div><p class="RForeground"><a name="(def._((lib._magnolisp/prelude..rkt)._.Bool))"></a><span title="Provided from: magnolisp/prelude | Package: magnolisp"><span class="RktSym"><a href="index.html#%28def._%28%28lib._magnolisp%2Fprelude..rkt%29._.Bool%29%29" class="RktValDef RktValLink" data-pltdoc="x">Bool</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">A predefined type. The literals of this type are <span class="RktVal">#t</span> and <span class="RktVal">#f</span>. All conditional expressions in Magnolisp are of this type. The corresponding C++ type is <span class="RktSym">bool</span>, and the corresponding C++ constant values are <span class="RktSym">true</span> and <span class="RktSym">false</span>, respectively.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>type</p></div></div><p class="RForeground"><a name="(def._((lib._magnolisp/prelude..rkt)._.Void))"></a><span title="Provided from: magnolisp/prelude | Package: magnolisp"><span class="RktSym"><a href="index.html#%28def._%28%28lib._magnolisp%2Fprelude..rkt%29._.Void%29%29" class="RktValDef RktValLink" data-pltdoc="x">Void</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">A predefined type. There are no literals for <span class="RktSym"><a href="index.html#%28def._%28%28lib._magnolisp%2Fprelude..rkt%29._.Void%29%29" class="RktValLink" data-pltdoc="x">Void</a></span> values, but the Magnolisp core form <span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void%29%29" class="RktValLink" data-pltdoc="x">void</a></span><span class="stt"> </span><span class="RktVar">expr</span><span class="stt"> </span><span class="RktVar">...</span><span class="RktPn">)</span> evaluates such a value, at least conceptually. Such values may not actually exist at C++ run time. The corresponding C++ type is <span class="RktSym">void</span>.</div></p><h4>1.7<tt>&nbsp;</tt><a name="(part._.Racket_.Forms)"></a>Racket Forms</h4><p>To use Racket code in a runtime context, you may wrap the code in a form that indicates that the code is only intended for evaluation as Racket.
Code so wrapped must be grammatically correct Racket, but not necessarily Magnolisp. The wrapping forms merely switch syntaxes, and have no effect on the namespace used for evaluating the enclosed sub-forms; the surrounding namespace is still in effect. Nesting of the wrapping forms is allowed.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._magnolisp/surface..rkt)._begin-racket))"></a><span title="Provided from: magnolisp/surface | Package: magnolisp"><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._begin-racket%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">begin-racket</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">Racket-form</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">A Racket expression that is equivalent to writing <span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/let.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._let%29%29" class="RktStxLink" data-pltdoc="x">let</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktVar">Racket-form</span><span class="stt"> </span><span class="RktVar">...</span><span class="RktPn">)</span>. The Magnolisp semantics is to: ignore such forms when at module top-level; and treat them as uncompilable expressions when appearing in an expression position. Uncompilable expressions are acceptable for as long as they are not part of a compiled program, or can be optimized away.</div></p><p><div class="SIntrapara">For example:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._function%29%29" class="RktStxLink" data-pltdoc="x">function</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">three</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">#:annos</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._foreign%29%29" class="RktStxLink" data-pltdoc="x">foreign</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._type%29%29" class="RktStxLink" data-pltdoc="x">type</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._fn%29%29" class="RktStxLink" data-pltdoc="x">fn</a></span><span class="hspace">&nbsp;</span><span class="RktSym">int</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._begin-racket%29%29" class="RktStxLink" data-pltdoc="x">begin-racket</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/set_.html#%28form._%28%28quote._~23~25kernel%29._set%21%29%29" class="RktStxLink" data-pltdoc="x">set!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/begin.html#%28form._%28%28quote._~23~25kernel%29._begin%29%29" class="RktStxLink" data-pltdoc="x">begin</a></span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">three</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">3</span></p></td></tr></table></blockquote></div></p><p>One use case is to <span class="RktSym"><a href="http://docs.racket-lang.org/reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._local-require%29%29" class="RktStxLink" data-pltdoc="x">local-require</a></span> a Racket definition into a context where a Magnolisp definition by the same name is being implemented. For example:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._function%29%29" class="RktStxLink" data-pltdoc="x">function</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._equal~3f%29%29" class="RktValLink" data-pltdoc="x">equal?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">#:annos</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._type%29%29" class="RktStxLink" data-pltdoc="x">type</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._fn%29%29" class="RktStxLink" data-pltdoc="x">fn</a></span><span class="hspace">&nbsp;</span><span class="RktSym">int</span><span class="hspace">&nbsp;</span><span class="RktSym">int</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="index.html#%28def._%28%28lib._magnolisp%2Fprelude..rkt%29._.Bool%29%29" class="RktValLink" data-pltdoc="x">Bool</a></span><span class="RktPn">)</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._foreign%29%29" class="RktStxLink" data-pltdoc="x">foreign</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._begin-racket%29%29" class="RktStxLink" data-pltdoc="x">begin-racket</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._local-require%29%29" class="RktStxLink" data-pltdoc="x">local-require</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._only-in%29%29" class="RktStxLink" data-pltdoc="x">only-in</a></span><span class="hspace">&nbsp;</span><span class="RktSym">racket/base</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._equal~3f%29%29" class="RktValLink" data-pltdoc="x">equal?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._equal~3f%29%29" class="RktValLink" data-pltdoc="x">equal?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._equal~3f%29%29" class="RktValLink" data-pltdoc="x">equal?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"foo"</span><span class="hspace">&nbsp;</span><span class="RktVal">"foo"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._magnolisp/surface..rkt)._begin-for-racket))"></a><span title="Provided from: magnolisp/surface | Package: magnolisp"><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._begin-for-racket%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">begin-for-racket</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">Racket-form</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._begin-racket%29%29" class="RktStxLink" data-pltdoc="x">begin-racket</a></span>, but equivalent to writing <span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/begin.html#%28form._%28%28quote._~23~25kernel%29._begin%29%29" class="RktStxLink" data-pltdoc="x">begin</a></span><span class="stt"> </span><span class="RktVar">Racket-form</span><span class="stt"> </span><span class="RktVar">...</span><span class="RktPn">)</span>, and hence not necessarily a Racket expression. Intended particularly for allowing the splicing of Racket definitions into the enclosing context, which is not possible with <span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._begin-racket%29%29" class="RktStxLink" data-pltdoc="x">begin-racket</a></span>.</div></p><p><div class="SIntrapara">For example:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._begin-for-racket%29%29" class="RktStxLink" data-pltdoc="x">begin-for-racket</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">six</span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">one-more</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/let.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._let%29%29" class="RktStxLink" data-pltdoc="x">let</a></span><span class="hspace">&nbsp;</span><span class="RktSym">dummy</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._%2B%29%29" class="RktValLink" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._function%29%29" class="RktStxLink" data-pltdoc="x">function</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">eight</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">#:annos</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._foreign%29%29" class="RktStxLink" data-pltdoc="x">foreign</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._type%29%29" class="RktStxLink" data-pltdoc="x">type</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._fn%29%29" class="RktStxLink" data-pltdoc="x">fn</a></span><span class="hspace">&nbsp;</span><span class="RktSym">int</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">one-more</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">one-more</span><span class="hspace">&nbsp;</span><span class="RktSym">six</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">eight</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">8</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._magnolisp/surface..rkt)._define-for-racket))"></a><span title="Provided from: magnolisp/surface | Package: magnolisp"><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._define-for-racket%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">define-for-racket</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">rest</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Shorthand for writing <span class="RktPn">(</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._begin-for-racket%29%29" class="RktStxLink" data-pltdoc="x">begin-for-racket</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="stt"> </span><span class="RktVar">rest</span><span class="stt"> </span><span class="RktMeta"><a href="http://docs.racket-lang.org/reference/stx-patterns.html#%28form._%28%28lib._racket%2Fprivate%2Fstxcase-scheme..rkt%29._......%29%29" class="RktStxLink" data-pltdoc="x">...</a></span><span class="RktPn">)</span><span class="RktPn">)</span>. Intended for introducing a single binding into the enclosing context, with a definition given in the Racket language.</div></p><p><div class="SIntrapara">For example:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._define-for-racket%29%29" class="RktStxLink" data-pltdoc="x">define-for-racket</a></span><span class="hspace">&nbsp;</span><span class="RktSym">two</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/begin.html#%28form._%28%28quote._~23~25kernel%29._begin%29%29" class="RktStxLink" data-pltdoc="x">begin</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._function%29%29" class="RktStxLink" data-pltdoc="x">function</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">four</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">#:annos</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._foreign%29%29" class="RktStxLink" data-pltdoc="x">foreign</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._type%29%29" class="RktStxLink" data-pltdoc="x">type</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._fn%29%29" class="RktStxLink" data-pltdoc="x">fn</a></span><span class="hspace">&nbsp;</span><span class="RktSym">int</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._begin-racket%29%29" class="RktStxLink" data-pltdoc="x">begin-racket</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._%2A%29%29" class="RktValLink" data-pltdoc="x">*</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/begin.html#%28form._%28%28quote._~23~25kernel%29._begin%29%29" class="RktStxLink" data-pltdoc="x">begin</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">two</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">four</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">4</span></p></td></tr></table></blockquote></div></p><h4>1.8<tt>&nbsp;</tt><a name="(part._.Fully_.Expanded_.Programs)"></a>Fully Expanded Programs</h4><p>As far as the Magnolisp compiler is concerned, a Magnolisp program is fully expanded if it conforms to the following grammar. Any syntactic ambiguities are resolved in favor of the first matching grammar rule.</p><p>A non-terminal <span class="RktVar">nt</span><span style="vertical-align: sub; font-size: 80%">rkt</span> is as documented for non-terminal <span class="RktVar">nt</span> in the &ldquo;Fully Expanded Programs&rdquo; section of the Racket Reference. A form <span class="RktVar">form</span><span style="vertical-align: sub; font-size: 80%">ign</span> denotes language that is ignored by the Magnolisp compiler, but which may be useful when evaluating as Racket. A form <span class="RktVar">form</span><span style="vertical-align: sub; font-size: 80%"><span class="RktVar">property</span><span class="stt"> </span><span class="RktSym">&#8800;</span><span class="stt"> </span><span class="RktVal">#f</span></span> means the form <span class="RktVar">form</span> whose syntax object has the property named <span class="RktVar">property</span> set to a true value. Form <span class="RktPn">(</span><span class="RktVar">sub-form</span><span class="stt"> </span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stx-patterns.html#%28form._%28%28lib._racket%2Fprivate%2Fstxcase-scheme..rkt%29._......%29%29" class="RktStxLink" data-pltdoc="x">...</a></span><span class="RktPn">)</span><span style="vertical-align: sub; font-size: 80%"><span class="RktVar">property</span><span class="stt"> </span><span class="RktSym">&#8800;</span><span class="stt"> </span><span class="RktVal">#f</span></span> is alternatively written as <span class="RktPn">(</span><span style="vertical-align: sub; font-size: 80%"><span class="RktVar">property</span><span class="stt"> </span><span class="RktSym">&#8800;</span><span class="stt"> </span><span class="RktVal">#f</span></span><span class="stt"> </span><span class="RktVar">sub-form</span><span class="stt"> </span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stx-patterns.html#%28form._%28%28lib._racket%2Fprivate%2Fstxcase-scheme..rkt%29._......%29%29" class="RktStxLink" data-pltdoc="x">...</a></span><span class="RktPn">)</span>. Anything of the form <span class="RktVar">id</span><span style="vertical-align: sub; font-size: 80%"><span style="font-style: italic">id-expr</span></span> is actually a non-terminal like <span class="RktVar">id-expr</span>, but for the specific identifier <span class="RktVar">id</span>.</p><p><table cellspacing="0" cellpadding="0"><tr><td align="right" valign="baseline"><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">module-begin-form</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/module.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._~23~25module-begin%29%29" class="RktStxLink" data-pltdoc="x">#%module-begin</a></span><span class="hspace">&nbsp;</span><span class="RktVar">mgl-modlv-form</span><span class="hspace">&nbsp;</span><span class="RktSym">...</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">mgl-modlv-form</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/require.html#%28form._%28%28quote._~23~25kernel%29._~23~25provide%29%29" class="RktStxLink" data-pltdoc="x">#%provide</a></span><span class="stt"> </span><span class="RktVar">raw-provide-spec</span><span style="vertical-align: sub; font-size: 80%">rkt</span><span class="stt"> </span><span class="RktSym">...</span><span class="RktPn">)</span><span style="vertical-align: sub; font-size: 80%">ign</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/require.html#%28form._%28%28quote._~23~25kernel%29._~23~25require%29%29" class="RktStxLink" data-pltdoc="x">#%require</a></span><span class="stt"> </span><span class="RktVar">raw-require-spec</span><span style="vertical-align: sub; font-size: 80%">rkt</span><span class="stt"> </span><span class="RktSym">...</span><span class="RktPn">)</span><span style="vertical-align: sub; font-size: 80%">ign</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">submodule-form</span><span style="vertical-align: sub; font-size: 80%">rkt,ign</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/begin.html#%28form._%28%28quote._~23~25kernel%29._begin%29%29" class="RktStxLink" data-pltdoc="x">begin</a></span><span class="hspace">&nbsp;</span><span class="RktVar">mgl-modlv-form</span><span class="hspace">&nbsp;</span><span class="RktSym">...</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/begin.html#%28form._%28%28quote._~23~25kernel%29._begin-for-syntax%29%29" class="RktStxLink" data-pltdoc="x">begin-for-syntax</a></span><span class="stt"> </span><span class="RktVar">module-level-form</span><span style="vertical-align: sub; font-size: 80%">rkt</span><span class="stt"> </span><span class="RktSym">...</span><span class="RktPn">)</span><span style="vertical-align: sub; font-size: 80%">ign</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">module-level-def</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28quote._~23~25kernel%29._define-syntaxes%29%29" class="RktStxLink" data-pltdoc="x">define-syntaxes</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktVar">trans-id</span><span class="stt"> </span><span class="RktSym">...</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktVar">Racket-expr</span><span class="RktPn">)</span><span style="vertical-align: sub; font-size: 80%">ign</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">Racket-expr</span><span style="vertical-align: sub; font-size: 80%">ign</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">in-racket-form</span><span style="vertical-align: sub; font-size: 80%">ign</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">module-level-def</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28quote._~23~25kernel%29._define-values%29%29" class="RktStxLink" data-pltdoc="x">define-values</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">id</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">mgl-expr</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28quote._~23~25kernel%29._define-values%29%29" class="RktStxLink" data-pltdoc="x">define-values</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktSym">...</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/application.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._~23~25plain-app%29%29" class="RktStxLink" data-pltdoc="x">#%plain-app</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/values.html#%28def._%28%28quote._~23~25kernel%29._values%29%29" class="RktValLink" data-pltdoc="x">values</a></span><span style="vertical-align: sub; font-size: 80%"><span style="font-style: italic">id-expr</span></span><span class="hspace">&nbsp;</span><span class="RktVar">mgl-expr</span><span class="hspace">&nbsp;</span><span class="RktSym">...</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">Racket-expr</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">expr</span><span style="vertical-align: sub; font-size: 80%">rkt</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">in-racket-form</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">Racket-form</span><span style="vertical-align: sub; font-size: 80%"><span class="RktVal">'</span><span class="RktVal">in-racket</span><span class="stt"> </span><span class="RktSym">&#8800;</span><span class="stt"> </span><span class="RktVal">#f</span></span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">mgl-expr</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">in-racket-form</span><span style="vertical-align: sub; font-size: 80%">ign</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/begin.html#%28form._%28%28quote._~23~25kernel%29._begin%29%29" class="RktStxLink" data-pltdoc="x">begin</a></span><span class="hspace">&nbsp;</span><span class="RktVar">mgl-expr</span><span class="hspace">&nbsp;</span><span class="RktSym">...+</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">begin0</span><span class="hspace">&nbsp;</span><span class="RktVar">mgl-expr</span><span class="hspace">&nbsp;</span><span class="RktVar">mgl-expr</span><span class="hspace">&nbsp;</span><span class="RktSym">...</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/__expression.html#%28form._%28%28quote._~23~25kernel%29._~23~25expression%29%29" class="RktStxLink" data-pltdoc="x">#%expression</a></span><span class="hspace">&nbsp;</span><span class="RktVar">mgl-expr</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/lambda.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._~23~25plain-lambda%29%29" class="RktStxLink" data-pltdoc="x">#%plain-lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktSym">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">mgl-expr</span><span class="hspace">&nbsp;</span><span class="RktSym">...+</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#%28form._%28%28quote._~23~25kernel%29._if%29%29" class="RktStxLink" data-pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktVar">Racket-expr</span><span style="vertical-align: sub; font-size: 80%">ign</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/application.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._~23~25plain-app%29%29" class="RktStxLink" data-pltdoc="x">#%plain-app</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="index.html#%28def._%28%28lib._magnolisp%2Fsurface..rkt%29._~23~25magnolisp%29%29" class="RktValLink" data-pltdoc="x">#%magnolisp</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">foreign-type</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVar">Racket-expr</span><span style="vertical-align: sub; font-size: 80%">ign</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#%28form._%28%28quote._~23~25kernel%29._if%29%29" class="RktStxLink" data-pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktVar">mgl-expr</span><span class="hspace">&nbsp;</span><span class="RktVar">mgl-expr</span><span class="hspace">&nbsp;</span><span class="RktVar">mgl-expr</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/application.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._~23~25plain-app%29%29" class="RktStxLink" data-pltdoc="x">#%plain-app</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void%29%29" class="RktValLink" data-pltdoc="x">void</a></span><span style="vertical-align: sub; font-size: 80%"><span style="font-style: italic">id-expr</span></span><span class="hspace">&nbsp;</span><span class="RktVar">mgl-expr</span><span class="hspace">&nbsp;</span><span class="RktSym">...</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/application.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._~23~25plain-app%29%29" class="RktStxLink" data-pltdoc="x">#%plain-app</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/values.html#%28def._%28%28quote._~23~25kernel%29._values%29%29" class="RktValLink" data-pltdoc="x">values</a></span><span style="vertical-align: sub; font-size: 80%"><span style="font-style: italic">id-expr</span></span><span class="hspace">&nbsp;</span><span class="RktVar">mgl-expr</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/application.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._~23~25plain-app%29%29" class="RktStxLink" data-pltdoc="x">#%plain-app</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/values.html#%28def._%28%28quote._~23~25kernel%29._values%29%29" class="RktValLink" data-pltdoc="x">values</a></span><span style="vertical-align: sub; font-size: 80%"><span style="font-style: italic">id-expr</span></span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">local-ec-block</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">local-ec-jump</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/application.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._~23~25plain-app%29%29" class="RktStxLink" data-pltdoc="x">#%plain-app</a></span><span class="hspace">&nbsp;</span><span class="RktVar">id-expr</span><span class="hspace">&nbsp;</span><span class="RktVar">mgl-expr</span><span class="hspace">&nbsp;</span><span class="RktSym">...</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span style="vertical-align: sub; font-size: 80%"><span class="RktVal">'</span><span class="RktVal">annotate</span><span class="stt"> </span><span class="RktSym">&#8800;</span><span class="stt"> </span><span class="RktVal">#f</span></span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/let.html#%28form._%28%28quote._~23~25kernel%29._let-values%29%29" class="RktStxLink" data-pltdoc="x">let-values</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/begin.html#%28form._%28%28quote._~23~25kernel%29._begin%29%29" class="RktStxLink" data-pltdoc="x">begin</a></span><span class="hspace">&nbsp;</span><span class="RktVar">mgl-anno-expr</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/application.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._~23~25plain-app%29%29" class="RktStxLink" data-pltdoc="x">#%plain-app</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/values.html#%28def._%28%28quote._~23~25kernel%29._values%29%29" class="RktValLink" data-pltdoc="x">values</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">...</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktVar">mgl-expr</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/let.html#%28form._%28%28quote._~23~25kernel%29._let-values%29%29" class="RktStxLink" data-pltdoc="x">let-values</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">bind-in-let</span><span class="hspace">&nbsp;</span><span class="RktSym">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">mgl-expr</span><span class="hspace">&nbsp;</span><span class="RktSym">...+</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/let.html#%28form._%28%28quote._~23~25kernel%29._letrec-values%29%29" class="RktStxLink" data-pltdoc="x">letrec-values</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">bind-in-let</span><span class="hspace">&nbsp;</span><span class="RktSym">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">mgl-expr</span><span class="hspace">&nbsp;</span><span class="RktSym">...+</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/let.html#%28form._%28%28quote._~23~25kernel%29._letrec-syntaxes%2Bvalues%29%29" class="RktStxLink" data-pltdoc="x">letrec-syntaxes+values</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktVar">trans-id</span><span class="hspace">&nbsp;</span><span class="RktSym">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">Racket-expr</span><span style="vertical-align: sub; font-size: 80%">ign</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktSym">...</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktVar">bind-in-let</span><span class="hspace">&nbsp;</span><span class="RktSym">...</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">mgl-expr</span><span class="hspace">&nbsp;</span><span class="RktSym">...+</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/set_.html#%28form._%28%28quote._~23~25kernel%29._set%21%29%29" class="RktStxLink" data-pltdoc="x">set!</a></span><span class="hspace">&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">mgl-expr</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/quote.html#%28form._%28%28quote._~23~25kernel%29._quote%29%29" class="RktStxLink" data-pltdoc="x">quote</a></span><span class="stt"> </span><span class="RktVar">datum</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/__top.html#%28form._%28%28quote._~23~25kernel%29._~23~25top%29%29" class="RktStxLink" data-pltdoc="x">#%top</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktVar">id</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">id</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">bind-in-let</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktSym">...</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/application.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._~23~25plain-app%29%29" class="RktStxLink" data-pltdoc="x">#%plain-app</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/values.html#%28def._%28%28quote._~23~25kernel%29._values%29%29" class="RktValLink" data-pltdoc="x">values</a></span><span style="vertical-align: sub; font-size: 80%"><span style="font-style: italic">id-expr</span></span><span class="hspace">&nbsp;</span><span class="RktVar">mgl-expr</span><span class="hspace">&nbsp;</span><span class="RktSym">...</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">mgl-expr</span><span class="RktPn">]</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktVar">id</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">mgl-expr</span><span class="RktPn">]</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">local-ec-block</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span style="vertical-align: sub; font-size: 80%"><span class="RktVal">'</span><span class="RktVal">local-ec</span><span class="stt"> </span><span class="RktSym">&#8800;</span><span class="stt"> </span><span class="RktVal">#f</span></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/application.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._~23~25plain-app%29%29" class="RktStxLink" data-pltdoc="x">#%plain-app</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/cont.html#%28def._%28%28quote._~23~25kernel%29._call%2Fec%29%29" class="RktValLink" data-pltdoc="x">call/ec</a></span><span style="vertical-align: sub; font-size: 80%"><span style="font-style: italic">id-expr</span></span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/lambda.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._~23~25plain-lambda%29%29" class="RktStxLink" data-pltdoc="x">#%plain-lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">id</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">mgl-expr</span><span class="hspace">&nbsp;</span><span class="RktSym">...+</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">local-ec-jump</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/application.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._~23~25plain-app%29%29" class="RktStxLink" data-pltdoc="x">#%plain-app</a></span><span class="stt"> </span><span class="RktVar">id-expr</span><span class="stt"> </span><span class="RktVar">mgl-expr</span><span class="RktPn">)</span><span style="vertical-align: sub; font-size: 80%"><span class="RktVal">'</span><span class="RktVal">local-ec</span><span class="stt"> </span><span class="RktSym">&#8800;</span><span class="stt"> </span><span class="RktVal">#f</span></span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">id-expr</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">id</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/__top.html#%28form._%28%28quote._~23~25kernel%29._~23~25top%29%29" class="RktStxLink" data-pltdoc="x">#%top</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktVar">id</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/__expression.html#%28form._%28%28quote._~23~25kernel%29._~23~25expression%29%29" class="RktStxLink" data-pltdoc="x">#%expression</a></span><span class="hspace">&nbsp;</span><span class="RktVar">id-expr</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">mgl-anno-expr</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#%28form._%28%28quote._~23~25kernel%29._if%29%29" class="RktStxLink" data-pltdoc="x">if</a></span><span class="stt"> </span><span class="RktVar">Racket-expr</span><span style="vertical-align: sub; font-size: 80%">ign</span><span class="stt"> </span><span class="RktVar">anno-expr</span><span class="stt"> </span><span class="RktVar">Racket-expr</span><span style="vertical-align: sub; font-size: 80%">ign</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">anno-expr</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/application.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._~23~25plain-app%29%29" class="RktStxLink" data-pltdoc="x">#%plain-app</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="index.html#%28def._%28%28lib._magnolisp%2Fsurface..rkt%29._~23~25magnolisp%29%29" class="RktValLink" data-pltdoc="x">#%magnolisp</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">anno</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">type</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">type-expr</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/application.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._~23~25plain-app%29%29" class="RktStxLink" data-pltdoc="x">#%plain-app</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="index.html#%28def._%28%28lib._magnolisp%2Fsurface..rkt%29._~23~25magnolisp%29%29" class="RktValLink" data-pltdoc="x">#%magnolisp</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">anno</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/quote.html#%28form._%28%28quote._~23~25kernel%29._quote%29%29" class="RktStxLink" data-pltdoc="x">quote</a></span><span class="hspace">&nbsp;</span><span class="RktVar">id</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">anno-val-expr</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">anno-val-expr</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/quote.html#%28form._%28%28quote._~23~25kernel%29._quote%29%29" class="RktStxLink" data-pltdoc="x">quote</a></span><span class="stt"> </span><span class="RktVar">datum</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/Syntax_Quoting__quote-syntax.html#%28form._%28%28quote._~23~25kernel%29._quote-syntax%29%29" class="RktStxLink" data-pltdoc="x">quote-syntax</a></span><span class="stt"> </span><span class="RktVar">datum</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">type-expr</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">id</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">fn-type-expr</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">fn-type-expr</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#%28form._%28%28quote._~23~25kernel%29._if%29%29" class="RktStxLink" data-pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktVar">Racket-expr</span><span style="vertical-align: sub; font-size: 80%">ign</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/application.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._~23~25plain-app%29%29" class="RktStxLink" data-pltdoc="x">#%plain-app</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="index.html#%28def._%28%28lib._magnolisp%2Fsurface..rkt%29._~23~25magnolisp%29%29" class="RktValLink" data-pltdoc="x">#%magnolisp</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">fn</span><span class="hspace">&nbsp;</span><span class="RktVar">type-expr</span><span class="hspace">&nbsp;</span><span class="RktSym">...+</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVar">Racket-expr</span><span style="vertical-align: sub; font-size: 80%">ign</span><span class="RktPn">)</span></td></tr></table></td></tr></table></p><p>where:</p><blockquote class="leftindent"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><span class="RktVar">id</span></td></tr></table></blockquote><p>An identifier.</p></blockquote><blockquote class="leftindent"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><span class="RktVar">trans-id</span></td></tr></table></blockquote><p>An identifier with a <span style="font-style: italic">transformer binding</span>.</p></blockquote><blockquote class="leftindent"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><span class="RktVar">datum</span></td></tr></table></blockquote><p>A piece of literal data. A <span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/quote.html#%28form._%28%28quote._~23~25kernel%29._quote%29%29" class="RktStxLink" data-pltdoc="x">quote</a></span><span class="stt"> </span><span class="RktVar">datum</span><span class="RktPn">)</span> form is a literal in Magnolisp, and its type must be possible to infer from context. Boolean literals are an exception, as their Magnolisp type is recognized as <span class="RktSym"><a href="index.html#%28def._%28%28lib._magnolisp%2Fprelude..rkt%29._.Bool%29%29" class="RktValLink" data-pltdoc="x">Bool</a></span>.</p></blockquote><blockquote class="leftindent"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><span class="RktVar">Racket-form</span></td></tr></table></blockquote><p>Any Racket core form.</p></blockquote><blockquote class="leftindent"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><span class="RktVar">in-racket-form</span></td></tr></table></blockquote><p>Any Racket form that has the syntax property <span class="RktVal">'</span><span class="RktVal">in-racket</span> set to a true value. These are ignored by the Magnolisp compiler where possible, and it is an error if they persist in contexts where they ultimately cannot be ignored. (The <span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._begin-racket%29%29" class="RktStxLink" data-pltdoc="x">begin-racket</a></span> and <span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._begin-for-racket%29%29" class="RktStxLink" data-pltdoc="x">begin-for-racket</a></span> forms are implemented through this mechanism.)</p></blockquote><blockquote class="leftindent"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><span class="RktVar">submodule-form</span></td></tr></table></blockquote><p>A Racket submodule definition. Submodules are not actually supported by the <a href="index.html#%28mod-path._magnolisp%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">magnolisp</span></a> language, but the Magnolisp compiler does allow them to appear, and merely ignores them.</p></blockquote><blockquote class="leftindent"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><span class="RktVar">anno-expr</span></td></tr></table></blockquote><p>An annotation expression, containing an identifier <span class="RktVar">id</span> naming the kind of annotation, and an expression specifying the &ldquo;value&rdquo; of the annotation. In the generic case, any symbol can be used to name an annotation kind, and any <span class="RktSym"><a href="http://docs.racket-lang.org/reference/quote.html#%28form._%28%28quote._~23~25kernel%29._quote%29%29" class="RktStxLink" data-pltdoc="x">quote</a></span>d or <span class="RktSym"><a href="http://docs.racket-lang.org/reference/Syntax_Quoting__quote-syntax.html#%28form._%28%28quote._~23~25kernel%29._quote-syntax%29%29" class="RktStxLink" data-pltdoc="x">quote-syntax</a></span>ed datum can give the value. Only annotations of kind <span class="RktVal">'</span><span class="RktVal">type</span> are parsed in a specific way.</p></blockquote><blockquote class="leftindent"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><span class="RktVar">local-ec-block</span></td></tr></table></blockquote><p>A restricted form of <span class="RktSym"><a href="http://docs.racket-lang.org/reference/cont.html#%28def._%28%28quote._~23~25kernel%29._call%2Fec%29%29" class="RktValLink" data-pltdoc="x">call/ec</a></span> invocation, which is flagged with the syntax property <span class="RktVal">'</span><span class="RktVal">local-ec</span>. The semantic restriction is that non-local escapes (beyond the enclosing function&rsquo;s body) are not allowed.</p></blockquote><blockquote class="leftindent"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><span class="RktVar">local-ec-jump</span></td></tr></table></blockquote><p>A restricted form of escape continuation invocation, flagged with the syntax property <span class="RktVal">'</span><span class="RktVal">local-ec</span>. The escape must be local, and it must be within the lexical scope of a matching <span class="RktVar">local-ec-block</span>.</p></blockquote><p>(<span style="font-style: italic">Warning: </span>For some of the <span class="RktSym">id</span><span style="vertical-align: sub; font-size: 80%"><span style="font-style: italic">id-expr</span></span> non-terminals, the current parser actually assumes a direct <span class="RktVar">id</span>.)</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._magnolisp/surface..rkt)._~23~25magnolisp))"></a><span title="Provided from: magnolisp/surface | Package: magnolisp"><span class="RktSym"><a href="index.html#%28def._%28%28lib._magnolisp%2Fsurface..rkt%29._~23~25magnolisp%29%29" class="RktValDef RktValLink" data-pltdoc="x">#%magnolisp</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">A value binding whose identifier is used to uniquely identify some Magnolisp core syntactic forms. It always appears in the application position of a Racket <span class="RktSym"><a href="http://docs.racket-lang.org/reference/application.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._~23~25plain-app%29%29" class="RktStxLink" data-pltdoc="x">#%plain-app</a></span> core form. The value of the variable does not matter when compiling an Magnolisp, as it is never used. To prevent evaluation as Racket, all the syntactic constructs exported by <a href="index.html#%28mod-path._magnolisp%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">magnolisp</span></a> surround <span class="RktSym"><a href="index.html#%28def._%28%28lib._magnolisp%2Fsurface..rkt%29._~23~25magnolisp%29%29" class="RktValLink" data-pltdoc="x">#%magnolisp</a></span> applications with a &ldquo;short-circuiting&rdquo; Racket expression.</div></p><h3>2<tt>&nbsp;</tt><a name="(part._.Evaluation)"></a>Evaluation</h3><p>Programs written in Magnolisp can be evaluated in the usual Racket way, provided that the <a href="http://docs.racket-lang.org/guide/Module_Syntax.html#%28part._hash-lang%29" class="RktModLink" data-pltdoc="x"><span class="RktMod">#lang</span></a> signature specifies the language as <a href="index.html#%28mod-path._magnolisp%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">magnolisp</span></a>. Any module top-level phase level 0 expressions are evaluated, and the results are printed (as for Racket&rsquo;s <span class="RktSym"><a href="http://docs.racket-lang.org/reference/module.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._~23~25module-begin%29%29" class="RktStxLink" data-pltdoc="x">#%module-begin</a></span>).</p><h3>3<tt>&nbsp;</tt><a name="(part._.Compiler_.A.P.I)"></a><a name="(mod-path._magnolisp/compiler-api)"></a>Compiler API</h3><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._require%29%29" class="RktStxLink" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="index.html#%28mod-path._magnolisp%2Fcompiler-api%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">magnolisp/compiler-api</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <span class="stt">magnolisp</span></span></td></tr></table></p><p>The Magnolisp implementation includes a compiler targeting C++. The <a href="index.html#%28mod-path._magnolisp%2Fcompiler-api%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">magnolisp/compiler-api</span></a> library provides an API for invoking the compiler.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td><span class="RktPn">(</span><a name="(def._((lib._magnolisp/compiler-api..rkt)._compile-modules))"></a><span title="Provided from: magnolisp/compiler-api | Package: magnolisp"><span class="RktSym"><span class="RktSymDef RktSym">compile-modules</span></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">module-path-v</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktMeta">...</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span>[</td><td><span class="RktPn">#:relative-to</span><span class="hspace">&nbsp;</span><span class="RktVar">rel-to-path-v</span>]<span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">compilation-state?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">module-path-v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/Module_Names_and_Loading.html#%28def._%28%28quote._~23~25kernel%29._module-path~3f%29%29" class="RktValLink" data-pltdoc="x">module-path?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">rel-to-path-v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/Manipulating_Paths.html#%28def._%28%28lib._racket%2Fprivate%2Fmisc..rkt%29._path-string~3f%29%29" class="RktValLink" data-pltdoc="x">path-string?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="nobreak">-&gt;</span></span><span class="hspace">&nbsp;</span><span class="RktSym">any</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">false/c</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._magnolisp/compiler-api..rkt)._compile-files))"></a><span title="Provided from: magnolisp/compiler-api | Package: magnolisp"><span class="RktSym"><span class="RktSymDef RktSym">compile-files</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">path-s</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">compilation-state?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">path-s</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/Manipulating_Paths.html#%28def._%28%28lib._racket%2Fprivate%2Fmisc..rkt%29._path-string~3f%29%29" class="RktValLink" data-pltdoc="x">path-string?</a></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Invoke the compiler front end for analysing a Magnolisp program, whose &ldquo;entry modules&rdquo; are specified either as module paths or files. Any specified modules that are not in the <a href="index.html#%28mod-path._magnolisp%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">magnolisp</span></a> language are effectively ignored, as they do not contain any <span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._export%29%29" class="RktStxLink" data-pltdoc="x">export</a></span>ed Magnolisp definitions.
Both functions return an opaque compilation state object, which may be passed to <span class="RktSym">generate-files</span> for code generation.</div></p><p>The optional argument <span class="RktVar">rel-to-path-v</span> is as for <span class="RktSym"><a href="http://docs.racket-lang.org/syntax/module-helpers.html#%28def._%28%28lib._syntax%2Fmodresolve..rkt%29._resolve-module-path%29%29" class="RktValLink" data-pltdoc="x">resolve-module-path</a></span>. It is only relevant for relative module paths, and indicates to which path such paths should be considered relative.</p><p>Any <span class="RktVar">path-s</span> is mapped to a <span class="RktVal">`</span><span class="RktVal">(</span><span class="RktVal">file</span><span class="stt"> </span><span class="RktRdr">,</span><span class="RktVar">path-s</span><span class="RktVal">)</span> module path, coercing <span class="RktVar">path-s</span> to a string if necessary.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._magnolisp/compiler-api..rkt)._compilation-state~3f))"></a><span title="Provided from: magnolisp/compiler-api | Package: magnolisp"><span class="RktSym"><span class="RktSymDef RktSym">compilation-state?</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._boolean~3f%29%29" class="RktValLink" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns <span class="RktVal">#t</span> if <span class="RktVar">v</span> is a compilation state object (as returned by <span class="RktSym">compile-modules</span> or <span class="RktSym">compile-files</span>), <span class="RktVal">#f</span> otherwise.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td><span class="RktPn">(</span><a name="(def._((lib._magnolisp/compiler-api..rkt)._generate-files))"></a><span title="Provided from: magnolisp/compiler-api | Package: magnolisp"><span class="RktSym"><span class="RktSymDef RktSym">generate-files</span></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">st</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">backends</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span>[</td><td><span class="RktPn">#:outdir</span><span class="hspace">&nbsp;</span><span class="RktVar">outdir</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:basename</span><span class="hspace">&nbsp;</span><span class="RktVar">basename</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:out</span><span class="hspace">&nbsp;</span><span class="RktVar">out</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:banner</span><span class="hspace">&nbsp;</span><span class="RktVar">banner?</span>]<span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td><td>&rarr;</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="http://docs.racket-lang.org/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">st</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">compilation-state?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">backends</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">listof</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">cons/c</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/symbols.html#%28def._%28%28quote._~23~25kernel%29._symbol~3f%29%29" class="RktValLink" data-pltdoc="x">symbol?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">outdir</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/Manipulating_Paths.html#%28def._%28%28lib._racket%2Fprivate%2Fmisc..rkt%29._path-string~3f%29%29" class="RktValLink" data-pltdoc="x">path-string?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/Filesystem.html#%28def._%28%28quote._~23~25kernel%29._current-directory%29%29" class="RktValLink" data-pltdoc="x">current-directory</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">basename</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">"output"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">out</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/port-ops.html#%28def._%28%28quote._~23~25kernel%29._output-port~3f%29%29" class="RktValLink" data-pltdoc="x">output-port?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/port-ops.html#%28def._%28%28quote._~23~25kernel%29._current-output-port%29%29" class="RktValLink" data-pltdoc="x">current-output-port</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">banner?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._boolean~3f%29%29" class="RktValLink" data-pltdoc="x">boolean?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#t</span></td></tr></table></blockquote></div><div class="SIntrapara">Performs code generation for the program whose intermediate representation (IR) is stored in the compilation state <span class="RktVar">st</span>. Code generation is only performed with the specified compiler back ends, and for the specified back end specific file types. For instance, to generate both a C++ header and implementation, you may pass <span class="RktVar">backends</span> as <span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">cxx</span><span class="stt"> </span><span class="RktVal">(</span><span class="RktVal">cc</span><span class="stt"> </span><span class="RktVal">hh</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktVal">)</span>. The <span class="RktVar">backends</span> argument is an association list with one entry per backend. Passing <span class="RktVar">out</span> as <span class="RktVal">#f</span> causes code generation into (separate) files; otherwise the specified output port is used. When <span class="RktVar">out</span> is a true value, the <span class="RktVar">banner?</span> argument indicates whether banners (with filenames) should be printed to precede individual output files. When <span class="RktVar">out</span> is <span class="RktVal">#f</span>, the <span class="RktVar">outdir</span> argument specifies the output directory for generated files. The <span class="RktVar">basename</span> string is used as the &ldquo;stem&rdquo; for output file names.</div></p><h3>4<tt>&nbsp;</tt><a name="(part._mglc)"></a><span class="stt">mglc</span></h3><p>The compiler can also be invoked via the <span class="stt">mglc</span> command-line tool, specifying the program to compile. The tool gets installed by invoking <span class="stt">raco setup</span>. (Alternatively you may just run it as <span class="stt">./mglc</span> on Unix platforms.)</p><p>To compile a program with <span class="stt">mglc</span>, list the source files of the program as arguments; the program will consist of all the functions in the listed files that are annotated with the <span class="RktSym"><a href="index.html#%28form._%28%28lib._magnolisp%2Fsurface..rkt%29._export%29%29" class="RktStxLink" data-pltdoc="x">export</a></span> flag, as well as any code on which they rely. A number of compiler options affecting compilation behavior may be passed, see <span class="stt">mglc --help</span> for a list.</p><p>An example invocation would be:</p><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">mglc --stdout --banner --cxx my-program.rkt</span></p><p>which instructs the compiler to print out C++ code into standard output, with banners, for the program <span class="stt">"my-program.rkt"</span>.</p><h3>5<tt>&nbsp;</tt><a name="(part._.Example_.Code)"></a>Example Code</h3><p>For sample Magnolisp programs, see the <span class="stt">"test-*.rkt"</span> files in the <span class="stt">"tests"</span> directory of the Magnolisp implementation codebase.</p><h3>6<tt>&nbsp;</tt><a name="(part._.Software_.Download)"></a>Software Download</h3><p><div class="SIntrapara">A Git repository of the Magnolisp source code can be found at:
</div><div class="SIntrapara"><blockquote><p><a href="https://github.com/bldl/magnolisp"><span class="url">https://github.com/bldl/magnolisp</span></a></p></blockquote></div></p><p>Racket version 6 is required to run the software. It may well be installable directly off GitHub with the command:</p><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">raco pkg install git://github.com/bldl/magnolisp</span></p><h3>7<tt>&nbsp;</tt><a name="(part._.License)"></a>License</h3><p>Except where otherwise noted, the following license applies:</p><p>Copyright &#169; 2012-2014 University of Bergen and the authors.</p><p>Authors: Tero Hasu</p><p>Permission is hereby granted, free of charge, to any person
obtaining a copy of this software and associated documentation files
(the "Software"), to deal in the Software without restriction,
including without limitation the rights to use, copy, modify, merge,
publish, distribute, sublicense, and/or sell copies of the Software,
and to permit persons to whom the Software is furnished to do so,
subject to the following conditions:</p><p>The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.</p><p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS
BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN
ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.</p></div></div><div id="contextindicator">&nbsp;</div></body></html>